<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Tab - AutoChat Studio Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="brain.css">
</head>

<body>
    <div class="dashboard-layout">
        <!-- Sidebar -->
        <aside id="sidebar">
            <div class="brand">
                <h1>ü§ñ AutoChat <span class="badge">PRO</span></h1>
            </div>

            <a href="index.html" class="menu-item">
                üìä Dashboard
            </a>

            <a href="characters.html" class="menu-item">
                üé≠ Manage Characters
            </a>

            <a href="brain.html" class="menu-item active">
                üß† Brain (Memory)
            </a>

            <div class="story-counter" style="margin-top: 20px;">
                <span class="counter-icon">üíæ</span>
                <span class="counter-text">
                    <strong id="memory-count">0</strong> Memories
                </span>
            </div>
        </aside>

        <!-- Main Content -->
        <main id="brain-area">
            <header class="top-bar">
                <div class="breadcrumbs">
                    <span id="page-title">üß† Character Memory Center</span>
                </div>
                <div class="actions">
                    <!-- Actions will be context-dependent -->
                    <button id="btn-back-grid" class="btn-secondary hidden">‚Üê Back to Characters</button>
                    <button id="btn-add-memory" class="btn-primary hidden">+ Add Memory</button>
                </div>
            </header>

            <div class="content-area">
                <!-- Grid View (Default) -->
                <div id="character-grid-view" class="character-grid-container">
                    <div class="grid-header">
                        <h2>Select a Character</h2>
                        <p>View memories, relationships, and backstory</p>
                    </div>
                    <div id="brain-char-grid" class="character-grid-layout">
                        <!-- Character Cards will be injected here -->
                    </div>
                </div>

                <!-- Memory Panel (Detail View - Hidden by default) -->
                <div id="memory-panel" class="memory-panel hidden">
                    <div class="panel-header">
                        <div class="char-info">
                            <img id="char-avatar" src="" alt="Avatar">
                            <div>
                                <h2 id="char-name">Character Name</h2>
                                <span id="char-team" class="char-team">No Team</span>
                            </div>
                        </div>
                    </div>

                    <!-- Facts Section -->
                    <section class="memory-section">
                        <h3>üìå Facts (‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á)</h3>
                        <div id="facts-list" class="memory-list">
                            <div class="empty-memory">No facts recorded yet</div>
                        </div>
                    </section>

                    <!-- Events Section -->
                    <section class="memory-section">
                        <h3>üìÖ Events (‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå)</h3>
                        <div id="events-list" class="memory-list">
                            <div class="empty-memory">No events recorded yet</div>
                        </div>
                    </section>

                    <!-- Relationships Section -->
                    <section class="memory-section">
                        <h3>üíï Relationships</h3>
                        <div id="relationships-list" class="relationship-list">
                            <div class="empty-memory">No relationships yet</div>
                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>

    <!-- Add Memory Modal -->
    <div id="modal-add-memory" class="modal hidden">
        <div class="modal-content">
            <h2>Add New Memory</h2>
            <form id="memory-form" autocomplete="off">
                <div class="form-group">
                    <label>Memory Type</label>
                    <select id="memory-type"
                        style="width: 100%; padding: 10px; background: var(--bg-dark); border: 1px solid var(--border); color: white; border-radius: 6px;">
                        <option value="fact">üìå Fact (‡∏Ç‡πâ‡∏≠‡πÄ‡∏ó‡πá‡∏à‡∏à‡∏£‡∏¥‡∏á)</option>
                        <option value="event">üìÖ Event (‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Memory Text</label>
                    <textarea id="memory-text" placeholder="e.g., ‡πÅ‡∏û‡πâ‡∏Å‡∏∏‡πâ‡∏á, ‡∏ä‡∏≠‡∏ö‡∏Å‡∏¥‡∏ô‡∏™‡πâ‡∏°‡∏ï‡∏≥, ‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏∞‡πÄ‡∏•‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏ô..."
                        rows="3" required
                        style="width: 100%; padding: 10px; background: var(--bg-dark); border: 1px solid var(--border); color: white; border-radius: 6px; resize: vertical;"></textarea>
                </div>

                <div class="form-group">
                    <label>Importance (1-10)</label>
                    <input type="range" id="memory-importance" min="1" max="10" value="5" style="width: 100%;">
                    <div
                        style="display: flex; justify-content: space-between; color: var(--text-gray); font-size: 0.8rem;">
                        <span>Low</span>
                        <span id="importance-value">5</span>
                        <span>High</span>
                    </div>
                </div>

                <!-- Sync Option for Shared Events -->
                <div id="sync-option" class="form-group sync-option" style="display: none;">
                    <label class="sync-label">
                        <input type="checkbox" id="sync-shared-event" checked>
                        <span>üîó Sync to all characters (Event ‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡πÅ‡∏ä‡∏£‡πå‡∏Å‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏≠‡∏∑‡πà‡∏ô)</span>
                    </label>
                    <small class="sync-hint">‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏ï‡∏¥‡πä‡∏Å: ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£</small>
                </div>

                <div class="modal-actions">
                    <button type="button" id="btn-cancel-memory" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Save Memory</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Add Relationship Modal -->
    <div id="modal-add-relationship" class="modal hidden">
        <div class="modal-content">
            <h2>Edit Relationship</h2>
            <form id="relationship-form" autocomplete="off">
                <div class="form-group">
                    <label>With Character</label>
                    <select id="rel-other-char"
                        style="width: 100%; padding: 10px; background: var(--bg-dark); border: 1px solid var(--border); color: white; border-radius: 6px;">
                        <option value="">-- Select Character --</option>
                    </select>
                </div>

                <div class="form-group">
                    <label>Relationship Score (0-100)</label>
                    <input type="range" id="rel-score" min="0" max="100" value="50" style="width: 100%;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-top: 5px;">
                        <span style="color: #ff6b6b;">üò† Enemy</span>
                        <span id="rel-score-value" style="font-size: 1.5rem; font-weight: bold;">50</span>
                        <span style="color: #51cf66;">üíö Best Friend</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Status</label>
                    <select id="rel-status"
                        style="width: 100%; padding: 10px; background: var(--bg-dark); border: 1px solid var(--border); color: white; border-radius: 6px;">
                        <option value="stranger">üë§ Stranger (‡∏Ñ‡∏ô‡πÅ‡∏õ‡∏•‡∏Å‡∏´‡∏ô‡πâ‡∏≤)</option>
                        <option value="colleague">üíº Colleague (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏£‡πà‡∏ß‡∏°‡∏á‡∏≤‡∏ô)</option>
                        <option value="friend" selected>ü§ù Friend (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô)</option>
                        <option value="close_friend">üëØ Close Friend (‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏™‡∏ô‡∏¥‡∏ó)</option>
                        <option value="couple">üíï Couple (‡∏Ñ‡∏π‡πà‡∏£‡∏±‡∏Å)</option>
                        <option value="ex">üíî Ex (‡∏≠‡∏î‡∏µ‡∏ï‡∏Ñ‡∏ô‡∏£‡∏±‡∏Å)</option>
                        <option value="enemy">‚öîÔ∏è Enemy (‡∏®‡∏±‡∏ï‡∏£‡∏π)</option>
                    </select>
                </div>

                <div class="modal-actions">
                    <button type="button" id="btn-cancel-rel" class="btn-secondary">Cancel</button>
                    <button type="submit" class="btn-primary">Save Relationship</button>
                </div>
            </form>
        </div>
    </div>

    <script src="brain.js"></script>
</body>

</html>